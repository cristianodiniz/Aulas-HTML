<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cadastro de Contatos</title>

    <style>
        .cl-left {
            float: left;
        }

        .cl-edit {
            margin: 8px
        }

        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }

        table,
        th,
        td {
            border: 1px solid;

        }

        table {
            border-spacing: unset;
            width: 100%;
        }
    </style>

    <script>
        const Modelo = {
            nome: null,
            sexo: null,
            fone: null,
        }

        var listaContatos = [{
            nome: "Bruno",
            sexo: "M",
            fone: "54 6565 8756",
        }, {
            nome: "Debora",
            sexo: "F",
            fone: "54 6565 5854",
        }, {
            nome: "Raquel",
            sexo: "F",
            fone: "51 6524 6687",
        }]

        function carregando() {

            var button = document.querySelector("button")
            button.addEventListener("click", adicionar)

            carregarValorGrid()
        }

        function adicionar() {
            var nome = document.querySelector("#nome")
            var sexo = document.querySelector("#sexo:checked")
            var fone = document.querySelector("#fone")

            if (nome.value === "")
                alert("Informe o nome!")
            if (fone.value === "")
                alert("Informe o telefone!")
            if (sexo ===null)
                alert("Informe o sexo!")
            
            var novoContato = Object.assign({}, Modelo);
            novoContato.nome = nome.value.toUpperCase();
            novoContato.sexo = sexo.value;
            novoContato.fone = fone.value;
            
            salvar(novoContato)
              nome.value = ""
              sexo.checked = false
              fone.value =""

            carregarValorGrid()
        }

        function salvar(Contato) {

            for (x = 0; x < listaContatos.length; x++){

                let nome = listaContatos[x].nome.toUpperCase()
                if (nome === Contato.nome.toUpperCase()){
                    alert("Esse nome já está na lista!!");
                    return
                }

            }

            listaContatos.push(Contato);

        }



        function carregarValorGrid() {
            var addlista = document.querySelector("tbody")

            addlista.innerHTML = "";

            for (var x = 0; x < listaContatos.length; x++) {

                addlista.innerHTML += "<tr>" +
                    "<td>" + listaContatos[x].nome + "</td>" +
                    "<td>" + listaContatos[x].sexo + "</td>" +
                    "<td>" + listaContatos[x].fone + "</td>" +
                    "<td><button>Apagar</button></td>" +
                    "</tr>";

            };
        }
        



    </script>



</head>

<body onload="carregando()">


    <h1>Cadastro de Contatos</h1>


    <div class="cl-edit">
        <label for="nome">Nome</label>
        <br>
        <input type="text" id="nome" style="width: 100%;">
    </div>

    <div class="clearfix">
        <div class="cl-left cl-edit">
            <label for="fone">Fone</label>
            <br>
            <input type="text" id="fone">
        </div>
        <div class="cl-left cl-edit">
            <label for="sexo">Sexo</label>
            <br>
            <input type="radio" id="sexo" name="gender" value="M"/> M
            <input type="radio" id="sexo" name="gender" value="F"/> F
        </div>

    </div>
    <div class="cl-edit" style="text-align: center;">

        <button style="padding: 16px;
        border-radius: 8px;
        border: 1px black solid;">Adicionar/Salvar</button>

    </div>

    <div class="cl-edit">


        <table>

            <thead>
                <tr>

                    <th>
                        Nome
                    </th>

                    <th>
                        Sexo
                    </th>

                    <th>
                        Fone
                    </th>

                    <th>
                        
                    </th>
                </tr>

            </thead>

            <tbody>

                <tr>
                    <td>Joao da Silva</td>
                    <td>M</td>
                    <td>54 65502 55654</td>
                </tr>



            </tbody>
        </table>
    </div>

</body>

</html>